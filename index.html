<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hospital Management System</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- SIDEBAR -->
  <aside class="sidebar">
    <h2 class="text-center mb-4">üè• CityCare Hospital</h2>
    <nav class="nav flex-column">
      <button class="btn btn-success mb-3" id="homeBtn">
        <i class="bi bi-house-door me-2"></i>Home Page
      </button>
      <button class="btn btn-light mb-3" id="registerBtn">
        <i class="bi bi-person-plus me-2"></i>New Registration
      </button>
      <button class="btn btn-success mb-3" id="appointmentBtn">
        <i class="bi bi-calendar-plus me-2"></i>Book Appointment
      </button>
      <button class="btn btn-info mb-3 text-white" id="viewAppointmentsBtn">
        <i class="bi bi-calendar-event me-2"></i>View Appointments
      </button>
      <button class="btn btn-warning mb-3" id="exportBtn">
        <i class="bi bi-file-earmark-spreadsheet me-2"></i>Export CSV
      </button>
    </nav>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="content p-4">
    <!-- DASHBOARD -->
    <div class="row g-3 mb-4">
      <div class="col-md-3 col-6">
        <div class="card shadow-sm border-start border-4 border-primary">
          <div class="card-body text-center">
            <i class="bi bi-calendar-check text-primary fs-3"></i>
            <h6 class="text-secondary mt-2 mb-1">Total Appointments</h6>
            <h4 class="fw-bold text-dark" id="totalAppointments">0</h4>
          </div>
        </div>
      </div>

      <div class="col-md-3 col-6">
        <div class="card shadow-sm border-start border-4 border-danger">
          <div class="card-body text-center">
            <i class="bi bi-person-heart text-danger fs-3"></i>
            <h6 class="text-secondary mt-2 mb-1">Total Patients</h6>
            <h4 class="fw-bold text-dark" id="totalPatients">0</h4>
          </div>
        </div>
      </div>
    </div>

    <!-- PATIENT TABLE -->
    <section id="patientTableSection">
      <div class="form-banner mb-3">
        <h3><i class="bi bi-table me-2"></i>Patients</h3>
      </div>
      <div class="card shadow-sm p-3">
        <div class="table-responsive">
          <table class="table table-striped table-bordered align-middle text-center" id="patientsTbl">
            <thead class="table-dark">
              <tr>
                <th>ID</th>
                <th>Full Name</th>
                <!-- <th>DOB</th> -->
                <th>Age</th>
                <th>Gender</th>
                <th>Contact</th>
                <th>Email</th>
                <th>Edit</th>
                <th>Delete</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- APPOINTMENT TABLE -->
    <section id="appointmentTableSection" style="display:none;">
      <div class="form-banner mb-3">
        <h3><i class="bi bi-calendar-week me-2"></i>Appointments</h3>
      </div>
      <div class="card shadow-sm p-3">
        <div class="table-responsive">
          <table class="table table-striped table-bordered align-middle text-center" id="apptsTbl">
            <thead class="table-dark">
              <tr>
                <th>ID</th>
                <th>Patient</th>
                <th>Department</th>
                <th>Doctor</th>
                <th>Date</th>
                <th>Time</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>
  </main>

  <!-- PATIENT REGISTRATION MODAL -->
  <div class="modal fade" id="registerModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-primary text-white">
          <h5 class="modal-title"><i class="bi bi-receipt me-2"></i>Patient Registration</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div id="duplicateAlert" class="alert alert-danger d-none"></div>
          <form id="patientForm" >
            <div class="row mb-3">
              <label class="col-md-4 col-form-label">Full Name *</label>
              <div class="col-md-8 d-flex gap-2">
                <div style="flex:1">
                  <input type="text" id="firstName" class="form-control" placeholder="First name" required />
                  <span id="firstName-error" class="error-text"></span>
                </div>
                <div style="flex:1">
                  <input type="text" id="lastName" class="form-control" placeholder="Last name" required />
                  <span id="lastName-error" class="error-text"></span>
                </div>
              </div>
            </div>
            <div class="row mb-3">
              <label class="col-md-4 col-form-label">Age *</label>
              <div class="col-md-8">
                <input type="number" id="age" class="form-control" required min="1" />
                <span id="age-error" class="error-text"></span>
              </div>
            </div>
            <div class="row mb-3">
              <label class="col-md-4 col-form-label">Gender *</label>
              <div class="col-md-8">
                <select id="gender" class="form-select" required>
                  <option value="">Select</option>
                  <option>Male</option>
                  <option>Female</option>
                  <option>Other</option>
                </select>
                <span id="gender-error" class="error-text"></span>
              </div>
            </div>
            <div class="row mb-3">
              <label class="col-md-4 col-form-label">Contact *</label>
              <div class="col-md-8">
                <input type="text" id="contact" class="form-control" required maxlength="10" />
                <span id="contact-error" class="error-text"></span>
              </div>
            </div>
            <div class="row mb-3">
              <label class="col-md-4 col-form-label">Email</label>
              <div class="col-md-8">
                <input type="email" id="email" class="form-control" />
                <span id="email-error" class="error-text"></span>
              </div>
            </div>
            <div class="text-start">
              <button type="submit" class="btn btn-primary">Submit</button>
              <button type="reset" class="btn btn-secondary">Reset</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- APPOINTMENT MODAL -->
  <div class="modal fade" id="appointmentModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-success text-white">
          <h5 class="modal-title"><i class="bi bi-calendar2-check me-2"></i>Book Appointment</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form id="apptForm" novalidate>
            <div class="row mb-3">
              <label class="col-md-4 col-form-label">Patient *</label>
              <div class="col-md-8"><select id="patientSelect" class="form-select" required></select></div>
            </div>
            <div class="row mb-3">
              <label class="col-md-4 col-form-label">Department *</label>
              <div class="col-md-8">
                <select id="deptSelect" class="form-select" required>
                  <option value="">Select</option>
                  <option>Cardiology</option>
                  <option>Neurology</option>
                  <option>Orthopedics</option>
                  <option>Pediatrics</option>
                </select>
              </div>
            </div>
            <div class="row mb-3">
              <label class="col-md-4 col-form-label">Doctor *</label>
              <div class="col-md-8">
                <select id="doctorSelect" class="form-select" required>
                  <option>Dr. Kumar</option>
                  <option>Dr. Priya</option>
                  <option>Dr. Ramesh</option>
                </select>
              </div>
            </div>
            <div class="row mb-3">
              <label class="col-md-4 col-form-label">Date *</label>
              <div class="col-md-8"><input type="date" id="apptDate" class="form-control" required /></div>
            </div>
            <div class="row mb-3">
              <label class="col-md-4 col-form-label">Time *</label>
              <div class="col-md-8">
                <select id="timeSelect" class="form-select" required>
                  <option>10:00 AM</option>
                  <option>11:00 AM</option>
                  <option>12:00 PM</option>
                  <option>03:00 PM</option>
                  <option>04:00 PM</option>
                </select>
              </div>
            </div>
            <div class="text-end">
              <button type="submit" class="btn btn-success">Book</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="validation.js"></script>
  <script src="script.js"></script>
</body>
</html>