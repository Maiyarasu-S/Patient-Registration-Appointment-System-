
:root{
  /* Base neutrals */
  --bg: #f8fafc;               /* page background */
  --surface: #ffffff;           /* cards, modals */
  --border: #e2e8f0;            /* subtle dividers */
  --muted: #64748b;             /* secondary text */
  --text: #0f172a;              /* primary text (darker for contrast) */

  /* Brand palette (lapis/teal set) */
  --lapis: #05668d;             /* lapis-lazuli */
  --teal: #028090;              /* teal */
  --persian: #00a896;           /* persian-green */
  --mint: #02c39a;              /* mint */
  --cream: #f0f3bd;             /* warm light */

  /* Brand roles */
  --primary: var(--lapis);      /* main CTAs */
  --primary-600:#045676;        /* hover/darker */
  --primary-100:#d8eef5;        /* pale lapis tint */

  --accent: var(--persian);     /* secondary CTAs / highlights */
  --accent-100:#d7f5ee;         /* pale persian tint */

  /* Status */
  --success:#16a34a;
  --danger:#dc2626;
  --warning:#f59e0b;

  /* Effects */
  --shadow-sm: 0 2px 8px rgba(0,0,0,.04);
  --shadow-md: 0 6px 18px rgba(0,0,0,.07);
  --radius: 12px;

  /* Sizing */
  --content-max: 1280px;
}

/* Ensure Bootstrap .text-primary uses our token */
.text-primary { color: var(--primary) !important; }

/* -------------------------------
   Global
-------------------------------- */
* { box-sizing: border-box; }

html, body { height: 100%; scroll-behavior: smooth; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  line-height: 1.55;
}

h1,h2,h3,h4,h5 {
  font-family: 'Poppins', 'Inter', sans-serif;
  font-weight: 600;
  color: var(--text);
  letter-spacing: .2px;
  margin-bottom: .5rem;
}

/* Wrapper sets a readable width on large screens */
.app-wrapper .main-content { max-width: var(--content-max); }

/* Subtle fade for page switches */
.view-section { opacity: 0; transition: opacity .25s ease-in-out; }
.view-section:not(.d-none) { opacity: 1; }

/* -------------------------------
   Sidebar
-------------------------------- */
.sidebar{
  background: var(--surface);
  border-right: 1px solid var(--border);
  box-shadow: var(--shadow-sm);
}

.sidebar h4{ font-weight: 600; }

.sidebar .nav .nav-link{
  color: #475569;
  border-radius: 10px;
  padding: .55rem .75rem;
  display: flex;
  align-items: center;
  gap: .5rem;
  transition: background .2s ease, color .2s ease;
}

.sidebar .nav .nav-link:hover{
  background: var(--accent-100); /* soft persian tint */
}

.sidebar .nav .nav-link i{
  font-size: 1.1rem;
  color: #334155; /* icon dark slate by default */
  transition: color .2s ease;
}

.sidebar .nav .nav-link:hover i{
  color: var(--primary);
}

.sidebar .nav .nav-link.active{
  background: var(--primary);
  color: #fff !important;
  font-weight: 600;
}

.sidebar .nav .nav-link.active i{
  color: #fff; /* white when selected */
}

/* Fix full height on smaller screens */
@media (max-width: 991.98px){
  .vh-100{ height:auto !important; }
}

/* -------------------------------
   Cards / Sections / Banners
-------------------------------- */
.form-banner{
  background: linear-gradient(90deg, rgba(0,168,150,.10), rgba(2,195,154,.08)); /* persian → mint */
  border-left: 4px solid var(--primary);
  padding: 1rem 1.25rem;
  border-radius: 10px;
}

.card.shadow-soft{
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--surface);
  box-shadow: var(--shadow-sm);
}

.card.shadow-soft:hover{
  box-shadow: var(--shadow-md);
  transition: box-shadow .2s ease;
}

.table-card{
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
}

/* -------------------------------
   Forms – Two-column compact
-------------------------------- */
.form-card{ max-width: 820px; margin: 0 auto; }
.form-card .card-body{ padding: 1.5rem; }
.form-section{ max-width: 640px; }
.form-section .row{ align-items: center; }

.form-section .col-form-label{
  text-align: left;
  color: #334155;
  font-weight: 600;
}

/* Make label column narrower and field column wider */
@media (min-width: 768px){
  .form-section .col-md-4{ flex: 0 0 30%; max-width:30%; }
  .form-section .col-md-8{ flex: 0 0 70%; max-width:70%; }
}

/* Inputs */
.form-control, .form-select, textarea.form-control{
  border: 1px solid #cbd5e1;
  border-radius: 10px;
  padding: .6rem .75rem;
  background: #fff;
}

.form-control:focus, .form-select:focus, textarea.form-control:focus{
  border-color: var(--primary);
  /* lapis focus ring */
  box-shadow: 0 0 0 .15rem rgba(5,102,141,.18);
}

/* Compact field width inside forms */
.form-section input.form-control,
.form-section select.form-select,
.form-section textarea.form-control{
  width: 100%;
  max-width: 100%;
}

/* Dedicated search fields */
#searchBox, #patientSearch{
  height: 38px;
  border-radius: 10px;
  max-width: 320px;
  padding: 0.375rem 0.75rem;
}

#homePage .btn, #recordsPage .btn{
  height: 38px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* -------------------------------
   Buttons
-------------------------------- */
.btn{ border-radius: 10px; }

.btn-primary{
  background: var(--primary);
  border-color: var(--primary);
}
.btn-primary:hover{ background: var(--primary-600); border-color: var(--primary-600); }

.btn-success{ background: var(--success); border-color: var(--success); }

/* Outline secondary button base + hover */
.btn-outline-secondary {
  color: #475569;
  border-color: #cbd5e1;
  transition: all 0.2s ease-in-out;
}
.btn-outline-secondary:hover {
  background-color: var(--primary-100); /* pale lapis tint */
  color: #000;
  border-color: #cbd5e1;
}

/* Icon buttons in tables */
.table .btn.btn-sm{ padding: .25rem .5rem; }

/* Action icon colors: black idle → white on hover */
.table .btn i{
  color: #334155;
  transition: color .2s ease;
}
.table .btn:hover i{ color: #fff; }

/* Action row: primary first, aligned right on desktop, stacked on mobile */
.form-actions{
  display:flex;
  gap:.6rem;
  justify-content:flex-end;
  align-items:center;
  margin-top: 1rem;
}

/* Big, comfy tap targets */
.btn-lg{
  padding: .75rem 1.25rem;
  font-weight: 600;
  line-height: 1.1;
  border-radius: 12px;
  min-height: 48px; /* WCAG-friendly */
}

/* Make primary pop a bit more */
.action-primary{
  box-shadow: 0 6px 14px rgba(5,102,141,.15);
}
.action-primary:focus-visible{
  box-shadow: 0 0 0 .2rem rgba(5,102,141,.25);
}

/* Low-emphasis secondary button (“ghost”) */
.btn-ghost{
  background: transparent;
  color: #475569;
  border: 1px solid #cbd5e1;
}
.btn-ghost:hover{
  background: var(--primary-100);
  color: #0f172a;
}

/* Compact buttons only on the two forms */
#patientForm .btn,
#apptForm .btn {
  height: 32px;               /* down from 38px */
  padding: .25rem .6rem;      /* tighter padding */
  font-size: .9rem;           /* slightly smaller text */
  border-radius: 8px;         /* a bit crisper */
  line-height: 1.2;           /* avoids tall text boxes */
}

/* Make primary actions still feel like CTAs */
#patientForm .btn[type="submit"],
#apptForm .btn[type="submit"] {
  font-weight: 600;
}

/* If your buttons include icons, keep them proportional */
#patientForm .btn i,
#apptForm .btn i {
  font-size: 1rem;
  margin-right: .35rem;
}

/* (Optional) give the Reset a lighter look without changing color tokens */
#patientForm .btn[type="reset"],
#apptForm .btn[type="reset"] {
  opacity: 0.9;
}
#patientForm .btn[type="reset"]:hover,
#apptForm .btn[type="reset"]:hover {
  opacity: 1;
}

#btnAddPatient {
  background-color: var(--primary);
  border-color: var(--primary);
  color: #fff;
}
#btnAddPatient:hover {
  background-color: var(--primary-600);
  border-color: var(--primary-600);
}

/* Responsive: stack + full-width on small screens */
@media (max-width: 575.98px){
  .form-actions{
    flex-direction: column;
    align-items: stretch;
  }
  .form-actions .btn{
    width: 100%;
  }
}


/* -------------------------------
   Tables
-------------------------------- */
.table thead th{
  background: linear-gradient(180deg, #f6fbfe, #eaf7f3); /* cool tint */
  color: #334155;
  font-weight: 600;
  border-bottom: 1px solid var(--border) !important;
  position: sticky;
  top: 0;
  z-index: 1;
}

.table tbody tr:hover{ background: #fbfdff; }
.table td, .table th{ vertical-align: middle; }

/* Status badges */
.badge{
  border-radius: 999px;
  font-weight: 600;
  padding: .4em .6em;
}
.badge.bg-primary{ background-color: var(--primary) !important; }
.badge.bg-warning{ background-color: var(--warning) !important; }
.badge.bg-secondary{ background-color: #94a3b8 !important; }

/* -------------------------------
   Modals
-------------------------------- */
.modal-content{
  border-radius: var(--radius);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-md);
}
.modal-header{ border-bottom: 1px solid var(--border); }
.modal-footer{ border-top: 1px solid var(--border); }

/* -------------------------------
   Toasts
-------------------------------- */
.toast{
  border-radius: 10px;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border);
  backdrop-filter: saturate(120%) blur(6px);
}

/* -------------------------------
   Utilities
-------------------------------- */
.text-muted{ color: var(--muted) !important; }
.shadow-soft{ box-shadow: var(--shadow-sm); }
.rounded-xl{ border-radius: var(--radius) !important; }

/* ----------------------------------------
   Custom dropdown arrow for select fields
----------------------------------------- */
.form-select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-color: #fff;
  border: 1px solid #cbd5e1;
  border-radius: 10px;
  padding: 0.6rem 2.25rem 0.6rem 0.75rem;
  font-size: 0.95rem;
  color: var(--text);
  cursor: pointer;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  /* SVG Arrow */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%23475569' stroke-width='2' viewBox='0 0 24 24'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.9rem center;
  background-size: 1rem;
}
.form-select:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 0.15rem rgba(5, 102, 141, 0.18);
  outline: none;
}
.form-select option { color: var(--text); background-color: #fff; }

/* =========================================================
   Dashboard Polish – Pro Aesthetic
   ========================================================= */
.stat-card{
  position: relative;
  border: 1px solid color-mix(in oklab, var(--border) 80%, var(--primary) 20%);
  border-radius: 14px;
  background:
    radial-gradient(120% 120% at 100% -10%, rgba(5,102,141,.08), transparent 50%),
    radial-gradient(120% 120% at -20% 120%, rgba(0,168,150,.07), transparent 60%),
    var(--surface);
  box-shadow: var(--shadow-sm);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.stat-card:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: color-mix(in oklab, var(--border) 65%, var(--primary) 35%);
}
.stat-card .stat-label{
  font-size: .85rem;
  color: color-mix(in oklab, var(--muted) 85%, var(--text) 15%);
  letter-spacing: .2px;
}
.stat-card .stat-value{
  font-weight: 700;
  color: var(--text);
  line-height: 1.1;
}
.stat-card::after{
  content: "";
  position: absolute;
  inset: 10px 12px auto auto;
  width: 8px; height: 8px;
  border-radius: 50%;
  background: var(--accent);
  opacity: .35;
}
.stat--primary { border-color: color-mix(in oklab, var(--primary) 35%, var(--border) 65%); }
.stat--success { border-color: color-mix(in oklab, var(--success) 35%, var(--border) 65%); }
.stat--warning { border-color: color-mix(in oklab, var(--warning) 35%, var(--border) 65%); }

@media (max-width: 575.98px){
  .stat-card .stat-value{ font-size: 1.35rem; }
}

/* ---------- Home Action Bar ---------- */
#homePage .action-bar{
  display: flex;
  gap: .5rem;
  align-items: center;
  flex-wrap: wrap;
}
#homePage .action-bar .form-control{
  height: 38px;
  max-width: 320px;
  border-radius: 10px;
}
#homePage .action-bar .btn{
  height: 38px;
  border-radius: 10px;
}

/* Export button */
#homePage #btnExportCsv{
  border-color: #d4d8dc;
  color: #475569;
  background: #fff;
}
#homePage #btnExportCsv:hover{
  background: var(--primary-100);
  color: #0b1220;
  border-color: #4d4f53;
}

/* ---------- Tables polish ---------- */
.table-card{ border: 1px solid var(--border); border-radius: 14px; overflow: clip; }
.table tbody tr{ transition: background-color .12s ease, box-shadow .12s ease; }
.table tbody tr:hover{ background: #fbfdff; }
.table tbody td{ border-top-color: #eef2f7 !important; }
.table .btn.btn-sm{ padding: .3rem .55rem; border-radius: 8px; }
.table .btn[data-action="edit"]{ border-color: color-mix(in oklab, var(--primary) 55%, #cbd5e1 45%); }
.table .btn[data-action="delete"]{ border-color: color-mix(in oklab, var(--danger) 55%, #cbd5e1 45%); }

/* ---------- Micro-interactions ---------- */
.btn-primary{ box-shadow: 0 1px 0 rgba(0,0,0,.03); }
.btn-primary:hover{ box-shadow: 0 4px 10px rgba(5,102,141,.16); }
.btn-success:hover{ box-shadow: 0 4px 10px rgba(22,163,74,.16); }

/* Keyboard focus */
:focus-visible{
  outline: 2px solid color-mix(in oklab, var(--primary) 65%, #fff 35%);
  outline-offset: 2px;
  border-radius: 10px;
}

/* ---------- Page title treatment ---------- */
.page-title{
  display: flex;
  align-items: center;
  gap: .6rem;
  margin: 0;
}
.page-title .dot{
  width: 8px; height: 8px; border-radius: 50%;
  background: var(--primary);
  box-shadow: 0 0 0 4px color-mix(in oklab, var(--primary) 20%, transparent 80%);
  opacity: .85;
}

/* Inline form fields grouping */
.form-section .row.g-2 .form-control { min-width: 0; }

/* Stack grouped fields on small screens */
@media (max-width: 767.98px) {
  .form-section .row.g-2 .col-md-6,
  .form-section .row.g-2 .col-md-4 {
    flex: 0 0 100%;
    max-width: 100%;
  }
  .form-section label { margin-bottom: .35rem; }
}

/* ===== Sticky Sidebar (Desktop) ===== */
.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 240px; /* ~col-lg-2 */
  background-color: #f8f9fa;
  border-right: 1px solid #e5e5e5;
  padding: 1rem;
  overflow-y: auto;
  z-index: 1020;
}

/* Adjust main content to make room for sidebar */
@media (min-width: 992px) {
  .main-content { margin-left: 240px; }
}

/* On smaller screens, disable fixed sidebar (use mobile menu) */
@media (max-width: 991.98px) {
  .sidebar {
    position: static;
    height: auto;
    width: 100%;
    border-right: none;
  }
}

/* -------------------------------
   Responsive tweaks
-------------------------------- */
@media (max-width: 767.98px){
  .form-card{ margin: 0; }
  .form-banner{ padding: .85rem 1rem; }
  #searchBox, #patientSearch{ max-width: 100%; }
}

/* =========================================================
   Mobile Hamburger Navbar (≤ 991.98px)
   ========================================================= */
@media (max-width: 991.98px) {
  /* Push content below fixed topbar */
  .main-content { margin-top: 4.25rem; }

  /* Topbar aesthetics */
  .mobile-topbar {
    z-index: 1050;
    border-bottom: 1px solid var(--border);
  }
  .mobile-topbar .navbar-toggler {
    border: 1px solid #cbd5e1;
    padding: .3rem .5rem;
    border-radius: 8px;
  }

  /* Collapsed panel */
  #mobileNav {
    background: var(--surface);
    border-top: 1px solid var(--border);
    box-shadow: var(--shadow-sm);
  }

  /* Mobile nav links */
  #mobileNav .nav-link {
    border-radius: 10px;
    color: #475569;
    padding: .55rem .75rem;
    margin: .15rem 0;
    display: flex;
    align-items: center;
    gap: .5rem;
  }
  #mobileNav .nav-link:hover { background: var(--accent-100); }
  #mobileNav .nav-link.active {
    background: var(--primary-100);
    color: var(--primary);
    font-weight: 600;
  }

  #mobileNav .nav-link i{
    font-size: 1.1rem;
    color: #334155;
  }
  #mobileNav .nav-link.active i{
    color: var(--primary);
  }
}
